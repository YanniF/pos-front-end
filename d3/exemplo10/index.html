<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>D3.js</title>
  <link rel="stylesheet" href="app.css">
</head>
<body>
  <h1>Venda de Past√©is</h1>
  <svg id="grafico"></svg>

  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="app.js"></script>
  <script>

    let p, dados;

    function executa() {
      
      dados = [
        {
          chave: 'Carne',
          valores: [
            {data: '2018-01-01', valor: 101},
            {data: '2018-01-02', valor: 92},
            {data: '2018-01-03', valor: 89},
            {data: '2018-01-04', valor: 88},
            {data: '2018-01-05', valor: 85},
            {data: '2018-01-06', valor: 82},
            {data: '2018-01-07', valor: 87},
            {data: '2018-01-08', valor: 88},
            {data: '2018-01-09', valor: 79},
            {data: '2018-01-10', valor: 82},
            {data: '2018-01-11', valor: 88},
            {data: '2018-01-12', valor: 100},
            {data: '2018-01-13', valor: 109},
            {data: '2018-01-14', valor: 102},
            {data: '2018-01-15', valor: 95},
            {data: '2018-01-16', valor: 96},
            {data: '2018-01-17', valor: 103},
            {data: '2018-01-18', valor: 82},
            {data: '2018-01-19', valor: 89},
            {data: '2018-01-20', valor: 83},
            {data: '2018-01-21', valor: 90},
            {data: '2018-01-22', valor: 92},
            {data: '2018-01-23', valor: 97},
            {data: '2018-01-24', valor: 84},
            {data: '2018-01-25', valor: 87},
            {data: '2018-01-26', valor: 88},
            {data: '2018-01-27', valor: 82},
            {data: '2018-01-28', valor: 83},
            {data: '2018-01-29', valor: 89},
            {data: '2018-01-30', valor: 91},
            {data: '2018-01-31', valor: 99},
          ]
        },
      ];

      const periodo = ['2018-01-01', '2018-01-31'];

      const converteDatas = d3.timeParse("%Y-%m-%d");
      const data = converteDatas(dados[0].valores[0].data);

      p = new GraficoDeLinhas({
        seletor: '#grafico',
        dados: dados,
        periodo: periodo,
        altura: 500,
        largura: 700,
        tituloX: 'Dias',
        tituloY: 'Quantidade vendida'
      });
    }   

    executa();
  </script>
</body>
</html>